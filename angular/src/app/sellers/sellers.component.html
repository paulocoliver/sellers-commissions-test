<div class="container">
    <div class="row">
        <div class="col-sm text-center">
            <h1>Vendedores</h1>
        </div>
    </div>

    <ng-container *ngIf="dataSource">

        <div class="row">
            <div class="col-sm">
                <mat-form-field appearance="outline">
                    <mat-label>Buscar</mat-label>
                    <mat-icon matPrefix>search</mat-icon>
                    <input type="text" matInput placeholder="" [(ngModel)]="textFilter" (keyup.enter)="filter()">
                </mat-form-field>
            </div>
            <div class="col-sm text-right">
                <button mat-raised-button color="primary" (click)="create()">Adicionar</button>
            </div>
        </div>

        <mat-card>
            <table mat-table *ngIf="dataSource" [dataSource]="dataSource" style="width: 100%">

                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> Id</th>
                    <td mat-cell *matCellDef="let item"> {{item.id}}</td>
                </ng-container>

                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef> Nome</th>
                    <td mat-cell *matCellDef="let item"> {{item.name}}</td>
                </ng-container>

                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef> E-mail</th>
                    <td mat-cell *matCellDef="let item"> {{item.email}}</td>
                </ng-container>

                <ng-container matColumnDef="commissions">
                    <th mat-header-cell *matHeaderCellDef> ComissaÌƒo</th>
                    <td mat-cell *matCellDef="let item">
                        <button mat-button color="primary" (click)="openSales(item, $event)">
                            <mat-icon>view_list</mat-icon>
                            {{item.commission | currencyFormat}}
                        </button>
                    </td>
                </ng-container>

                <ng-container matColumnDef="created_at">
                    <th mat-header-cell *matHeaderCellDef> Criado em</th>
                    <td mat-cell *matCellDef="let item"> {{item.created_at | date: 'dd/MM/yyyy'}}</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="edit(row)"></tr>
            </table>
        </mat-card>

    </ng-container>

</div>